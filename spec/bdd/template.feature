# language: ja
機能: Web API 基本フロー
  背景:
    前提 サービスが起動している

  シナリオ: 在庫があるときに予約を作成できる
    前提 商品 "item-1" の在庫が 5 である
    もし  ユーザー "u1" が item-1 を 2 個予約する
    ならば レスポンスは 200 で予約IDを返す
    かつ 在庫は 3 になる

  シナリオ: 在庫不足の場合は 409 を返し在庫は減らない
    前提 商品 "item-1" の在庫が 1 である
    もし  ユーザー "u1" が item-1 を 2 個予約する
    ならば レスポンスは 409 を返す
    かつ 在庫は 1 のままである
