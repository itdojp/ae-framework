# Verify Labels: Optional Enforcement Toggles

> ğŸŒ Language / è¨€èª: English | æ—¥æœ¬èª

---

## æ—¥æœ¬èªï¼ˆæ¦‚è¦ï¼‰

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€PR ãƒ©ãƒ™ãƒ«ã§ã‚ªãƒ—ãƒˆã‚¤ãƒ³ã®å¼·åˆ¶ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã§ã™ï¼ˆæ—¢å®šã¯ãƒ¬ãƒãƒ¼ãƒˆã®ã¿ï¼‰ã€‚

- `enforce-contracts`: å®Ÿè¡Œæ™‚å¥‘ç´„ã®å¤±æ•—ã§ PR ã‚’å¤±æ•—ï¼ˆCI ã§ã¯ `CONTRACTS_ENFORCE=1` ç›¸å½“ï¼‰
- `enforce-formal`: formal ç³»ã®å³æ ¼åŒ–ï¼ˆä¾‹: TLC/Alloy å¤±æ•—ã§ PR ã‚’å¤±æ•—ã€Apalache ran/ok ã®å¼·åˆ¶ã€Formal Summary v1 ã® strict æ¤œè¨¼ï¼‰

å¿…è¦ãª PR ã ã‘å³æ ¼åŒ–ã—ã€ä¸è¦ãªã‚‰ãƒ©ãƒ™ãƒ«ã‚’å¤–ã™ã“ã¨ã§ãƒ¬ãƒãƒ¼ãƒˆã®ã¿ã®å‹•ä½œã«æˆ»ã›ã¾ã™ã€‚

This repository supports optâ€‘in enforcement via PR labels. By default, all checks are reportâ€‘only.

- `enforce-contracts`
  - Fails the PR when runtime contracts execution reports any failure (parseIn/pre/post/parseOut).
  - Equivalent to setting `CONTRACTS_ENFORCE=1` in CI environment.

- `enforce-formal`
  - Fails the PR when model checking finds any failing TLC module or Alloy spec.
  - Reads `artifacts/codex/model-check.json` generated by `scripts/verify/run-model-checks.mjs`.
  - Also enables stricter formal checks in the formal pipeline (e.g. Apalache `ran/ok` enforcement and Formal Summary v1 strict validation during formal aggregation).

Notes
- Use these labels only on PRs where you want stricter gating; otherwise, the pipeline remains reportâ€‘only for fast feedback.
- You can remove the labels to return to reportâ€‘only behavior on subsequent pushes.
