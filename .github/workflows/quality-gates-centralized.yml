name: Quality Gates
on:
  pull_request:
    # Run quality gates only when code paths change
    paths:
      - 'src/**'
      - 'packages/**'
      - 'apps/**'
      - 'tests/**'
      - 'configs/**'
      - 'scripts/**'
      - 'types/**'
permissions: read-all
jobs:
  integration:
    uses: ./.github/workflows/common/ci-core.yml
    with:
      node-version: '20'
      run-script: test:int
  a11y:
    uses: ./.github/workflows/common/ci-core.yml
    with:
      node-version: '20'
      run-script: test:a11y
  coverage:
    uses: ./.github/workflows/common/ci-core.yml
    with:
      node-version: '20'
      run-script: test:coverage
